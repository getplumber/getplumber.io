---
import Button from "@components/Button/Button.astro";
import FooterLink from "@components/Footer/FooterLink.astro";
import SiteLogo from "@components/SiteLogo/SiteLogo.astro";
import anssiLogo from "@images/anssi_logo.svg";
import { getLocaleFromUrl } from "@js/localeUtils";
import { getTranslatedData } from "@js/translationUtils";
import { Image } from "astro:assets";

const currLocale = getLocaleFromUrl(Astro.url);
const siteData = getTranslatedData("siteData", currLocale);

const today = new Date();
---

<div
  class:list={[
    "border-t-base-300 dark:border-t-base-600/60 border-t",
    // Add background on docs pages to prevent content showing through
    !Astro.url.pathname.startsWith("/docs") && "mt-20",
  ]}
>
  <footer
    class:list={[
      "m-auto w-full pb-6",
      // Add background on docs pages to prevent content showing through
      Astro.url.pathname.startsWith("/docs") ? "docs-site-container" : "site-container",
    ]}
  >
    <div class="flex w-full flex-col justify-between gap-4 sm:flex-row sm:gap-10">
      <div class="mt-6 flex flex-col items-start gap-2">
        <SiteLogo />
        <h3 class="text-lg font-semibold">Supported by</h3>
        <div class="flex  gap-4 mt-2">
          <Image src={anssiLogo} width={100} height={100} alt="ANSSI Logo" class="" />
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4 md:grid-cols-3">
        <!-- Navigation -->
        <div class="flex flex-col">
          <h3 class="mt-6 mb-2 text-lg font-semibold">Navigation</h3>
          <FooterLink href={"/"}>OpenSource CLI</FooterLink>
          <!-- TEMPORARY HIDE - EASY TO REVERT - Platform link removed temporarily -->
          <!-- <FooterLink href={"/platform"}>Platform</FooterLink> -->
          <FooterLink href={"/docs"}>Docs</FooterLink>
          <FooterLink href={"/blog"}>Blog</FooterLink>
          <FooterLink href={"/contact"}>Contact</FooterLink>
        </div>

        <!-- Legal -->
        <div class="flex flex-col">
          <h3 class="mt-6 mb-2 text-lg font-semibold">Legal</h3>
          <FooterLink href="/privacy-policy"> Privacy policy </FooterLink>
          <FooterLink href="/terms-of-use"> Terms of use </FooterLink>
        </div>

        <!-- In the Know -->
        <div class="flex flex-col">
          <h3 class="mt-6 mb-2 text-lg font-semibold">Socials</h3>
          <FooterLink href="https://x.com/getplumber" newTab={true}> X </FooterLink>
          <FooterLink href="https://linkedin.com/in/getplumber" newTab={true}> LinkedIn </FooterLink>
          <FooterLink href="https://github.com/getplumber" newTab={true}> GitHub </FooterLink>
          <FooterLink href="https://discord.getplumber.io" newTab={true}> Discord </FooterLink>
        </div>
      </div>  
    </div>
    <hr class="border-base-300 dark:border-base-600/60 my-6" />
    <div class="text-base-600 dark:text-base-100/60 text-sm">
      &copy; {today.getFullYear()}
      {" "}{siteData.name}. All rights reserved.
    </div>
    <div class="sr-only">
      <p>
        A website template crafted with love by <a href="https://cosmicthemes.com/">Cosmic Themes</a
        >
      </p>
    </div>
  </footer>
</div>
