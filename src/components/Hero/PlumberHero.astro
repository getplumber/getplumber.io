---
import PipelineAnimation from "@components/Animation/PipelineAnimation.astro";
import Button from "@components/Button/Button.astro";
import { getLocaleFromUrl } from "@js/localeUtils";

const currLocale = getLocaleFromUrl(Astro.url);
---

<section
  id="plumber-hero"
  class="relative flex w-full overflow-hidden pt-32 pb-32 md:pt-40 md:pb-32"
>
  <!-- background glow -->
  <div
    class="bg-primary-600/30 dark:bg-primary-500/50 absolute inset-0 bottom-1/2 -z-10 mx-auto aspect-square w-[65%] max-w-5xl -translate-y-2/3 rounded-full blur-[100px]"
    aria-hidden="true"
  >
  </div>

  <!-- background grid svg -->
  <div class="absolute inset-0 -z-20 flex overflow-hidden">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="text-base-400/10 dark:text-base-500/5 relative h-full w-full xl:scale-125"
      aria-hidden="true"
    >
      <defs>
        <pattern id="grid-pattern" width="60" height="60" patternUnits="userSpaceOnUse">
          <path d="M 60 0 L 0 0 0 60" fill="none" stroke="currentColor" stroke-width="2"></path>
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#grid-pattern)"></rect>
    </svg>
  </div>

  <!-- hero items -->
  <div class="site-container mx-auto max-w-6xl gap-8">
    <!-- Hero text -->
    <div class="mb-12 text-center">
      <h1
        class="from-base-900 to-base-600/90 dark:from-base-100 dark:to-base-400/90 bg-gradient-to-r bg-clip-text pb-4 text-5xl font-medium text-transparent md:text-6xl"
        data-mos="fade-up"
        data-mos-anchor="#plumber-hero"
      >
        OpenSource compliance CLI <br /> for <span class="text-primary-500">GitLab CI/CD</span>
      </h1>
      <p
        class="description mx-auto mt-4 max-w-2xl"
        data-mos="fade-up"
        data-mos-delay="0.2"
        data-mos-anchor="#plumber-hero"
      >
        Analyze your GitLab CI/CD pipelines for security and compliance issues. Scan for mutable
        image tags, untrusted registries, and branch protection compliance.
      </p>

      <!-- CTA Buttons -->
      <div
        class="mx-auto mt-8 flex max-w-md flex-col justify-center gap-4 px-4 sm:flex-row"
        data-mos="fade-up"
        data-mos-delay="0.4"
        data-mos-anchor="#plumber-hero"
      >
        <Button
          variant="primary"
          href="https://github.com/getplumber/plumber"
          target="_blank"
          rel="noopener noreferrer"
        >
          View on GitHub
        </Button>
        <Button variant="outline" href="/docs/cli/" arrow="right"> CLI Documentation </Button>
      </div>
    </div>

    <!-- Pipeline Animation Section -->
    <div
      class="relative mt-8 flex w-full items-center justify-center"
      data-mos="fade-up"
      data-mos-delay="0.6"
      data-mos-anchor="#plumber-hero"
    >
      <PipelineAnimation />
    </div>
  </div>
</section>
