---
// import CategoryCloud from "@components/CategoryCloud/CategoryCloud.astro";
import { getAllPosts } from "@js/blogUtils";
import { getLocaleFromUrl } from "@js/localeUtils";
import BaseLayout from "@layouts/BaseLayout.astro";
// import BlogIndexLayout from "@layouts/BlogIndexLayout1.astro";
import BlogIndexLayout from "@layouts/BlogIndexLayout2.astro";

const currLocale = getLocaleFromUrl(Astro.url);
const posts = await getAllPosts(currLocale, true); // exclude archived R2Devops releases
---

<BaseLayout
  title="Our Blog Posts"
  description="Learn from our blog posts about web development, design, and more."
>
  <div class="site-container mt-24 md:mt-36">
    <div class="flex">
      <p class="colored-title">Our blog</p>
    </div>
    <div class="mt-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
      <h1 class="h2">Blog posts to help you on your journey</h1>
      <a
        href="/blog/archive"
        class="text-sm text-base-content/60 hover:text-base-content underline md:mt-0"
      >
        View R2Devops release archive
      </a>
    </div>
    <!-- <div class="mt-4 flex">
      <CategoryCloud showCount={false} />
    </div> -->
    <BlogIndexLayout posts={posts} class="mt-10" />
  </div>
</BaseLayout>
