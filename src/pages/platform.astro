---
import PlatformCTA from "@components/Cta/PlatformCTA.astro";
import AtPlumber from "@components/Feature/AtPlumber.astro";
import ComplianceIsHard from "@components/Feature/ComplianceIsHard.astro";
import FeatureMetrics from "@components/Feature/FeatureMetrics.astro";
import PipelineBlindSpot from "@components/Feature/PipelineBlindSpot.astro";
import PlatformHero from "@components/Hero/PlatformHero.astro";
import LogoCloud2 from "@components/LogoCloud/LogoCloud2.astro";
import PageSidebarNav from "@components/Nav/PageSidebarNav.astro";
import Pricing3 from "@components/Pricing/Pricing3.astro";
import PricingPlatform from "@components/Pricing/PricingPlatform.astro";
import SectionDivider from "@components/SectionDivider/SectionDivider.astro";
import { getLocaleFromUrl } from "@js/localeUtils";
import { getTranslatedData } from "@js/translationUtils";
import BaseLayout from "@layouts/BaseLayout.astro";

const currLocale = getLocaleFromUrl(Astro.url);
const siteData = getTranslatedData("siteData", currLocale);

// Define page sections for sidebar navigation
const pageSections = [
  { id: "CTA", label: "CI/CD Blind Spots" },
  { id: "complianceIsHard", label: "Compliance Challenges" },
  { id: "howitworks", label: "How it works" },
  { id: "feature5", label: "Trusted by thousands" },
  { id: "pricing-platform", label: "Pricing" },
  { id: "platform-cta", label: "Get Started" },
];
---

<BaseLayout title={siteData.title} description={siteData.description}>
  <PlatformHero />
  <LogoCloud2 />
  <PipelineBlindSpot />
  <ComplianceIsHard />


  <AtPlumber />

  <FeatureMetrics />
  <!-- <Testimonials2 /> -->
  <SectionDivider />

  <PricingPlatform />
  <!-- <Faq1 /> -->
  <PlatformCTA />
  
  <!-- Floating sidebar navigation -->
  <PageSidebarNav sections={pageSections} />
</BaseLayout>
